(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-515da708"],{"264e":function(t,e,r){},"921d":function(t,e,r){"use strict";var n=r("264e"),a=r.n(n);a.a},"9a24":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("各县市患者转换关系")]),r("sub-btn",{attrs:{url:"/api/addSub",params:{token:this.$store.getters.Userinfo.token,chartstr:"CityDCSpecific"},disabled:t.disable1}})],1),r("div",{staticClass:"box-body"},[r("e-chart",{attrs:{option:t.option,height:400}})],1)])],1)],1)},a=[],o=(r("309f"),r("0b53"),r("06a2"),r("ec25"),r("2b45"),r("5ab2"),r("6d57"),r("e10e"),r("b449"),r("b081")),i=(r("cc57"),r("17d6")),c=r("09d9"),s=r("9faa"),u=r("c1d0");function l(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=f(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,i=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){i=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw a}}}}function f(t,e){if(t){if("string"===typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(){return h.apply(this,arguments)}function h(){return h=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u,t.abrupt("return",e.data);case 2:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}var b={name:"CityDCSpecific",data:function(){return{city:{},cityScatter:{type:"scatter",symbolSize:10,markLine:{silent:!0,symbol:["none","none"],lineStyle:{type:"dashed",color:"blue"},label:{show:!0,position:"middle",formatter:"死亡/治愈均衡线"},data:[[{name:"死亡/治愈均衡线",coord:[0,0]},{coord:[.2,.2]}]]},data:[]}}},computed:{disable1:function(){var t="CityDCSpecific";return!(!Array.isArray(this.$store.getters.Userinfo.subList)||-1==this.$store.getters.Userinfo.subList.indexOf(t))},option:function(){return{title:{text:"各县（市）患者转化图",left:"center",top:0},tooltip:{formatter:function(t){var e=t.data;return e.name?e.name:"".concat(e[3],":(").concat(e[0].toFixed(3),", ").concat(e[1].toFixed(3),")")}},visualMap:{realtime:!0,min:0,max:12e3,dimension:2,orient:"vertical",right:10,top:"center",text:["确诊人群基数"],pieces:[{min:1e4,color:"#ff0000"},{min:1e3,max:9999,color:"#cc0000"},{min:500,max:1e3,color:"#CC3300"},{min:100,max:499,color:"#CC6600"},{min:10,max:99,color:"#CC9900"},{min:1,max:9,color:"#CCCC00"}],textStyle:{color:"#000"},showLabel:!0},xAxis:{name:"治愈/确诊",type:"value",silent:!1},yAxis:{name:"死亡/确诊",type:"value",max:.2,silent:!1},series:[y({},this.cityScatter)]}}},methods:{update:function(){var t=this;m().then((function(e){e?t.catchCity(e):t.$toast.error("拉取数据失败！")}))},catchCity:function(t){var e,r=t.area,n={},a=["外来务工人员","未明确地区","外地来沪人员"],o=l(r);try{for(o.s();!(e=o.n()).done;){var i,c=e.value,s=l(c.cities);try{for(s.s();!(i=s.n()).done;){var u=i.value;!~a.indexOf(u.cityName)&&u.confirmedCount&&(n[u.cityName]=u)}}catch(f){s.e(f)}finally{s.f()}}}catch(f){o.e(f)}finally{o.f()}this.city=n},transformStatusToData:function(){for(var t in this.$options.data())"city"!==t&&(this.$data[t]=this.$options.data()[t]);for(var e in this.city){var r=this.city[e],n=r.confirmedCount,a=r.curedCount,o=r.deadCount,i=o&&o/n,c=a&&a/n;this.cityScatter.data.push([c,i,n,e])}}},watch:{city:function(){this.transformStatusToData()}},created:function(){this.update(),this.transformStatusToData()},components:{EChart:c["a"],subBtn:s["a"]}},v=b,C=(r("921d"),r("e90a")),w=Object(C["a"])(v,n,a,!1,null,"275a7a2c",null);e["default"]=w.exports}}]);